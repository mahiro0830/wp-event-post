{"version":3,"file":"main.js","mappings":"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","sources":["webpack://wp-event-post/./src/ts/_CalendarDrawer.ts","webpack://wp-event-post/./src/ts/main.ts","webpack://wp-event-post/webpack/bootstrap","webpack://wp-event-post/webpack/startup"],"sourcesContent":["interface Calendar {\n  element: HTMLElement | null;\n  dateElemts: NodeListOf<HTMLElement> | [];\n  cellElements: NodeListOf<HTMLElement> | [];\n  yearDisplay: HTMLElement | null;\n  monthDisplay: HTMLElement | null;\n  year: string | number;\n  month: string | number;\n  apiPath: string;\n  loading: boolean;\n  loadingElement: HTMLElement | null;\n}\n\nclass Calendar {\n  /**\n   * constructor\n   * @param { HTMLElement } element\n   */\n  public constructor(element: HTMLElement) {\n    this.element = element || null;\n    this.dateElemts = element.querySelectorAll('.p-calendar__date') || [];\n    this.cellElements = element.querySelectorAll('.js-cell') || [];\n    this.yearDisplay = element.querySelector('.js-year') || null;\n    this.monthDisplay = element.querySelector('.js-month') || null;\n    this.year = '';\n    this.month = '';\n    this.apiPath = element.closest('#mc-calendar')?.getAttribute('data-api-path') || '';\n    this.loading = false;\n    this.loadingElement = document.querySelector('.js-loading') || null;\n  };\n\n  /**\n   * 初期化\n   * カレンダーの描画\n   * @param { number } 年\n   * @param { number } 月\n   * @return { void }\n   */\n  public init(year = new Date().getFullYear(), month = new Date().getMonth() + 1): void {\n    this.year = year;\n    this.month = month;\n    this.drawCalendar(this.year, this.month);\n  };\n\n  /**\n   * カレンダーを描画\n   * @param { number } 年\n   * @param { number } 月\n   * @return { void }\n   */\n  public drawCalendar(year: string | number = this.year, month: string | number = this.month): void {\n    // ローディングを表示\n    this.loading = true;\n    if (this.loadingElement) this.loadingElement.style.display = 'block';\n\n    this.year = Number(year);\n    this.month = Number(month);\n\n    // 月初めの曜日を取得\n    const firstDay = new Date(this.year, this.month - 1, 1).getDay() === 0 ? 6 : new Date(this.year, this.month - 1, 1).getDay() - 1;\n    // 月末の日付を取得\n    const lastDate = new Date(this.year, this.month, 0).getDate();\n\n    if (this.yearDisplay) this.yearDisplay.textContent = String(this.year);\n    if (this.monthDisplay) this.monthDisplay.textContent = String(this.month);\n\n    // 日付を描画\n    if (this.cellElements.length) {\n      this.cellElements.forEach((cell: HTMLElement | null, index: number) => {\n        if (cell) {\n          if (index < firstDay || index >= lastDate + firstDay) {\n            const dayElement = cell.querySelector('.day');\n            if (dayElement) {\n              dayElement.textContent = '';\n            }\n          } else {\n            const dayElement = cell.querySelector('.day');\n            if (dayElement) {\n              dayElement.textContent = String(index - firstDay + 1);\n            }\n          }\n        }\n      });\n    }\n\n    // イベントをリフレッシュ\n    this.cellElements.forEach((cell: HTMLElement | null) => {\n      const eventIcons = cell?.querySelectorAll('.p-calendar__events-icon');\n      const events = cell?.querySelectorAll('.p-calendar__events-item');\n\n      eventIcons?.forEach((icon) => {\n        icon.remove();\n      });\n      events?.forEach((event) => {\n        event.remove();\n      });\n    });\n\n    // イベントを描画\n    setTimeout(() => {\n      const events = this.fetchEvents(this.year, this.month);\n      events.then((data) => {\n        data.forEach((item: any) => {\n          const date = new Date(item.event_meta.event_start);\n          const day = date.getDate();\n          const targetCell = this.cellElements[day + firstDay - 1];\n          const eventsParent = targetCell?.querySelector('.p-calendar__events');\n          const iconWrapper = targetCell?.querySelector('.p-calendar__events-icons');\n          const eventWrapper = targetCell?.querySelector('.p-calendar__events-list');\n          if (targetCell) {\n            // イベント要素を生成\n\n            // アイコンを反映\n            const eventIconSrc: string = item.event_meta.event_icon;\n            const eventIcon = document.createElement('div');\n            eventIcon.classList.add('mc-event-icon');\n            const eventIconInner = document.createElement('span');\n            if (eventIconSrc) {\n              const eventIconImage = document.createElement('img');\n              eventIcon.classList.add('p-calendar__events-icon');\n              eventIconImage.src = item.event_meta.event_icon;\n              eventIcon.appendChild(eventIconInner);\n              eventIconInner.appendChild(eventIconImage);\n            }\n            iconWrapper?.appendChild(eventIcon);\n\n            // イベント名・イベント詳細を反映\n            const eventElement = document.createElement('div');\n            eventElement.classList.add('p-calendar__events-item', 'mc-event-item');\n            eventElement.textContent = item.title.rendered;\n            eventElement?.setAttribute('data-detail', item.event_meta.event_details);\n            // イベント日をdata属性に反映\n            const eventDate = new Date(item.event_meta.event_start);\n            const year = eventDate.getFullYear();\n            const month = eventDate.getMonth() + 1;\n            const day = eventDate.getDate();\n            const week = ['日', '月', '火', '水', '木', '金', '土'][eventDate.getDay()];\n            eventElement?.setAttribute('data-date', `${year}年${month}月${day}日(${week})`);\n            eventWrapper?.appendChild(eventElement);\n\n            // カテゴリーを取得\n            const eventCategoryId = item['mc-event-category'][0];\n            if (eventCategoryId) {\n              const term = this.fetchTerm('mc-event-category', eventCategoryId);\n              term.then((data) => {\n                eventIcon?.setAttribute('style', 'background: linear-gradient(to bottom, #'+ data.slug + '1A' +' 50%, transparent 50%)');\n                eventIcon?.setAttribute('data-color', '#'+ data.slug + '1A');\n                eventIcon?.setAttribute('data-color-accent', '#'+ data.slug);\n                eventsParent?.setAttribute('style', 'background-color: #' + data.slug + '1A');\n              });\n            }\n          }\n        });\n\n        // ローディングを非表示\n        this.loading = false;\n        if (this.loadingElement) this.loadingElement.style.display = 'none';\n      });\n    }, 100);\n  };\n\n  /**\n   * WordPress REST APIからイベントを取得\n   *\n   * @param { string | number } year\n   * @param { string | number } month\n   */\n  private async fetchEvents(year: string | number, month: string | number) {\n    try {\n      const response = await fetch(`${this.apiPath}/mc-event?event_start_month=${year}-${month}`);\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  /**\n   * WordPress REST APIからターム情報を取得\n   *\n   * @param { string } taxonomy_slug\n   * @param { id } term_id\n   * @return { Promise<any> }\n   * @private\n   */\n  private async fetchTerm(taxonomy_slug: string, term_id: number): Promise<any> {\n    try {\n      const response = await fetch(`${this.apiPath}/${taxonomy_slug}/${term_id}`);\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n}\n\nexport default Calendar;\n","import CalendarDrawer from './_CalendarDrawer';\n\ndocument.addEventListener('DOMContentLoaded', (): void => {\n  const calendarElements: NodeListOf<HTMLElement> | [] = document.querySelectorAll('.js-calendar') || [];\n  const calendarPrev: HTMLElement | null = document.querySelector('.js-prev') || null;\n  const calendarNext: HTMLElement | null = document.querySelector('.js-next') || null;\n  let calendarDrawer: CalendarDrawer[] = [];\n\n  if(!calendarElements.length) return;\n  /**\n   * CalendarDrawerクラスをインスタンス化\n   * カレンダーを描画する\n   */\n  let count: number = 0;\n  calendarElements.forEach((element: HTMLElement | null) => {\n    if (!element) return;\n    count++;\n    calendarDrawer[count] = new CalendarDrawer(element);\n    if (count === 1) {\n      calendarDrawer[count].init();\n    } else {\n      // 2つ目以降のカレンダーは次の年月をセットして描画\n      // 現在の年月を取得\n      const nowYear: string | number = calendarDrawer[count - 1].year;\n      const nowMonth: string | number = calendarDrawer[count - 1].month;\n\n      // 次の年月を取得\n      const nextMonth: string | number = (Number(nowMonth) + 1) === 13 ? 1 : Number(nowMonth) + 1;\n      const nextYear: string | number = ((Number(nowMonth) + 1) === 13) ? Number(nowYear) + 1 : Number(nowYear);\n\n      // 前の年月を取得\n      const prevMonth = (Number(nowMonth) - 1) === 0 ? 12 : Number(nowMonth) - 1;\n      const prevYear = ((Number(nowMonth) - 1) === 0) ? Number(nowYear) - 1 : Number(nowYear);\n\n      // [data-prev-year][data-prev-month]に値をセット\n      if (calendarPrev) {\n        calendarPrev.dataset.prevYear = String(prevYear);\n        calendarPrev.dataset.prevMonth = String(prevMonth);\n      }\n      // [data-next-year][data-next-month]に値をセット\n      if (calendarNext) {\n        calendarNext.dataset.nextYear = String(nextYear);\n        calendarNext.dataset.nextMonth = String(nextMonth);\n      }\n\n      calendarDrawer[count].init(nextYear, nextMonth);\n    }\n  });\n\n  if(!calendarPrev || !calendarNext) return;\n  /**\n   * 前のカレンダーを表示\n   */\n  calendarPrev.addEventListener('click', (e) => {\n    // 前の年月を取得\n    const prevYear = Number(calendarPrev.getAttribute('data-prev-year'));\n    const prevMonth = Number(calendarPrev.getAttribute('data-prev-month'));\n\n    // 次の年月を取得\n    const nextMonth = (prevMonth + 1) === 13 ? 1 : prevMonth + 1;\n    const nextYear = ((prevMonth + 1) === 13) ? prevYear + 1 : prevYear;\n\n    // 前前の年月を取得\n    const prev2Month = (prevMonth - 1) === 0 ? 12 : prevMonth - 1;\n    const prev2Year = ((prevMonth - 1) === 0) ? prevYear - 1 : prevYear;\n\n    // dataを更新\n    if (!calendarPrev || !calendarNext) return\n    calendarPrev.dataset.prevYear = String(prev2Year);\n    calendarPrev.dataset.prevMonth = String(prev2Month);\n    calendarNext.dataset.nextYear = String(nextYear);\n    calendarNext.dataset.nextMonth = String(nextMonth);\n\n    // カレンダーを描画\n    calendarDrawer[2].drawCalendar(calendarDrawer[1].year, calendarDrawer[1].month);\n    calendarDrawer[1].drawCalendar(prevYear, prevMonth);\n  });\n\n  /**\n   * 次のカレンダーを表示\n   */\n  calendarNext.addEventListener('click', (e) => {\n    // 次の年月を取得\n    const nextYear = Number(calendarNext.getAttribute('data-next-year'));\n    const nextMonth = Number(calendarNext.getAttribute('data-next-month'));\n\n    // 前の年月を取得\n    const prevMonth = (nextMonth - 1) === 0 ? 12 : nextMonth - 1;\n    const prevYear = ((nextMonth - 1) === 0) ? nextYear - 1 : nextYear;\n\n    // 次次の年月を取得\n    const next2Year = ((nextMonth + 1) === 13) ? nextYear + 1 : nextYear;\n    const next2Month = (nextMonth + 1) === 13 ? 1 : nextMonth + 1;\n\n    // dataを更新\n    if (!calendarPrev || !calendarNext) return\n    calendarNext.dataset.nextYear = String(next2Year);\n    calendarNext.dataset.nextMonth = String(next2Month);\n    calendarPrev.dataset.prevYear = String(prevYear);\n    calendarPrev.dataset.prevMonth = String(prevMonth);\n\n    // カレンダーを描画\n    calendarDrawer[2].drawCalendar(next2Year, next2Month);\n    calendarDrawer[1].drawCalendar(nextYear, nextMonth);\n  });\n\n  /**\n   * モーダルを開く\n   */\n  const calendarModal: HTMLElement | null = document.getElementById('mc-calendar-modal') || null;\n  const calendarModalClose: HTMLElement | null = document.getElementById('mc-calendar-modal-close') || null;\n  const calendarLinks: NodeListOf<HTMLElement> | [] = document.querySelectorAll('.js-calendar-link') || [];\n\n  if (calendarModal || calendarModalClose || calendarLinks.length) {\n    // カレンダーリンクをクリックでモーダルを開く\n    calendarLinks.forEach((link: HTMLElement | null) => {\n      link?.addEventListener('click', (e: Event) => {\n        e.preventDefault();\n\n        // モダール内のHTMLを生成\n        const eventItems: NodeListOf<HTMLElement> | [] = link?.querySelectorAll('.mc-event-item') || [];\n        const eventIcons: NodeListOf<HTMLElement> | [] = link?.querySelectorAll('.mc-event-icon') || [];\n        if (eventItems.length && eventIcons.length) {\n          const modalContents: HTMLElement | null = calendarModal?.querySelector('#mc-calendar-modal-contents') || null;\n          if (modalContents) {\n            modalContents.innerHTML = '';\n\n            eventItems.forEach((item: HTMLElement | null, index) => {\n              const date: string = item?.dataset.date || '';\n              const title: string = item?.textContent || '';\n              const detail: string = item?.dataset.detail || '';\n              const icon: HTMLElement | null = eventIcons[index].cloneNode(true) as HTMLElement;\n              const iconColor: string | null = icon?.dataset.color || null;\n              const iconColorAccent: string | null = icon?.dataset.colorAccent || null;\n\n              const eventItem = document.createElement('li');\n              eventItem.classList.add('p-calendar-modal__item');\n              const eventItemBg = document.createElement('div');\n              eventItemBg.classList.add('p-calendar-modal__bg');\n              if (iconColor) eventItemBg.style.backgroundColor = iconColor;\n              eventItem.appendChild(eventItemBg);\n              const eventItemIcon = document.createElement('div');\n              eventItemIcon.classList.add('p-calendar-modal__icon');\n              if (iconColor) eventItemIcon.style.borderColor = iconColor;\n              eventItem.appendChild(eventItemIcon);\n              eventItemIcon.appendChild(icon);\n              const eventItemContents = document.createElement('div');\n              eventItemContents.classList.add('p-calendar-modal__contents');\n              eventItem.appendChild(eventItemContents);\n              const eventItemDate = document.createElement('div');\n              eventItemDate.classList.add('p-calendar-modal__date');\n              eventItemDate.style.color = iconColorAccent || '';\n              eventItemDate.textContent = date;\n              eventItemContents.appendChild(eventItemDate);\n              const eventItemTitle = document.createElement('div');\n              eventItemTitle.classList.add('p-calendar-modal__title');\n              eventItemTitle.style.color = iconColorAccent || '';\n              eventItemTitle.textContent = title;\n              eventItemContents.appendChild(eventItemTitle);\n              if (detail !== '') {\n                const eventItemDetail = document.createElement('div');\n                eventItemDetail.classList.add('p-calendar-modal__text');\n                eventItemDetail.textContent = detail;\n                eventItemContents.appendChild(eventItemDetail);\n              }\n              modalContents.appendChild(eventItem);\n            });\n          }\n        }\n\n        calendarModal?.classList.add('is-active');\n      });\n    });\n\n    // モーダルを閉じる\n    calendarModalClose?.addEventListener('click', (e: Event) => {\n      e.preventDefault();\n      calendarModal?.classList.remove('is-active');\n    });\n  }\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(931);\n"],"names":["element","this","dateElemts","querySelectorAll","cellElements","yearDisplay","querySelector","monthDisplay","year","month","apiPath","closest","getAttribute","loading","loadingElement","document","init","Date","getFullYear","getMonth","drawCalendar","style","display","Number","firstDay","getDay","lastDate","getDate","textContent","String","length","forEach","cell","index","dayElement","eventIcons","events","icon","remove","event","setTimeout","fetchEvents","then","data","item","day","event_meta","event_start","targetCell","eventsParent","iconWrapper","eventWrapper","eventIconSrc","event_icon","createElement","classList","add","eventIconInner","eventIconImage","src","appendChild","eventElement","title","rendered","setAttribute","event_details","eventDate","week","eventCategoryId","fetchTerm","slug","fetch","json","console","error","taxonomy_slug","term_id","Calendar","addEventListener","calendarElements","calendarPrev","calendarNext","calendarDrawer","count","nowYear","nowMonth","nextMonth","nextYear","prevMonth","prevYear","dataset","e","prev2Month","prev2Year","next2Year","next2Month","calendarModal","getElementById","calendarModalClose","calendarLinks","link","preventDefault","eventItems","innerHTML","date","detail","cloneNode","iconColor","color","iconColorAccent","colorAccent","eventItem","eventItemBg","backgroundColor","eventItemIcon","borderColor","eventItemContents","eventItemDate","eventItemTitle","eventItemDetail","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call"],"sourceRoot":""}